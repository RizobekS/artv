{% extends 'base.html' %}
{% load static %}
{% load i18n %}
{% block title %}
    {% trans "Catalog" %}
{% endblock title %}

{% block main %}
    <div class="wrapper">
        <div class="container">
            {% include 'header.html' with cart_items=cart_items craftmanship=craftmanship country_name=country_name%}
            <main class="content">
                <div class="center">
<!--                    {% include 'pages/filter.html' %}-->
{#                    <div class="filters">#}
{#                        <form class="filters-form" method="get">#}
{#                            <div class="selectbox">#}
{#                                <span class="label">{% trans "Страна" %}</span>#}
{#                                <label>#}
{#                                    <select name="country" class="filter"></select>#}
{#                                </label>#}
{#                            </div>#}
{#                            <div class="selectbox">#}
{#                                <span class="label">{% trans "Автор" %}</span>#}
{#                                <label>#}
{#                                    <select name="authors" class="filter"></select>#}
{#                                </label>#}
{#                            </div>#}
{#                            <div class="selectbox sort">#}
{#                              <span class="label">#}
{#                                <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">#}
{#                                  <path d="M10.384 14H8.864L7.92 11.632H2.608L1.664 14H0.144L4.432 3.328H6.08L10.384 14ZM7.52 10.448L5.264 4.704L2.992 10.448H7.52Z" fill="#B4B4B4"/>#}
{#                                  <path d="M18.304 21H16.752L19.632 16.648C18.8533 16.584 18.192 16.28 17.648 15.736C17.1147 15.192 16.848 14.4613 16.848 13.544C16.848 12.5733 17.1573 11.7947 17.776 11.208C18.4053 10.6213 19.216 10.328 20.208 10.328H24.496V21H23.168V16.76H21.024L18.304 21ZM20.352 15.592H23.168V11.512H20.352C19.7227 11.512 19.2107 11.704 18.816 12.088C18.4213 12.4613 18.224 12.9467 18.224 13.544C18.224 14.1413 18.4213 14.632 18.816 15.016C19.2213 15.4 19.7333 15.592 20.352 15.592Z" fill="#B4B4B4"/>#}
{#                                  <path d="M11.6464 21.3536C11.8417 21.5488 12.1583 21.5488 12.3536 21.3536L15.5355 18.1716C15.7308 17.9763 15.7308 17.6597 15.5355 17.4645C15.3403 17.2692 15.0237 17.2692 14.8284 17.4645L12 20.2929L9.17157 17.4645C8.97631 17.2692 8.65973 17.2692 8.46447 17.4645C8.2692 17.6597 8.2692 17.9763 8.46447 18.1716L11.6464 21.3536ZM11.5 3L11.5 21L12.5 21L12.5 3L11.5 3Z" fill="#B4B4B4"/>#}
{#                                </svg>#}
{#                              </span>#}
{#                                <label>#}
{#                                    <select name="sort" class="sorting">#}
{#                                        <option value="asc">{% trans "По возрастанию" %}</option>#}
{#                                        <option value="desc">{% trans "По убыванию" %}</option>#}
{#                                    </select>#}
{#                                </label>#}
{#                            </div>#}
{#                            <button type="submit">Поиск</button>#}
{#                        </form>#}
{#                    </div>#}
                    <div class="cards catalogs " id="cards-main">
                    {% if requirement %}
                        <h1>Met Requirements</h1>
                    {% endif %}
                    {% if authors_result %}
                        {% for author in authors_result %}
                            <p>{{ author.name }}</p>
                        {% endfor %}
                    {% else %}
                        <p>No authors found</p>
                    {% endif %}
                    {% if works_result %}
                        {% for work in works_result %}
                            <div class="card">
                                <div class="info">
                                    <a href="{% url 'general:catalog_detail_page' work.slug %}" class="img h360">
                                        <img src="{{ work.photo.url }}" alt=""/>
                                    </a>
                                    <div class="caption">
                                        <div class="header">
                                            <strong><a
                                                    href="{% url 'general:catalog_detail_page' work.slug %}">{{ work.name }}</a>
                                            </strong>
                                            {% if work.year_of_creation %}
                                                <span>{{ work.year_of_creation }}</span>
                                            {% endif %}
                                        </div>
                                        <div class="card-action" style="margin-bottom: 0">
                                            <div>
                                                <span class="small-text">
                                                    <svg width="13" height="20" viewBox="0 0 13 20" fill="none"
                                                         xmlns="http://www.w3.org/2000/svg">
                                                        <path
                                                                d="M6.49998 4.00015C7.16302 4.00015 7.7989 4.26355 8.26775 4.73239C8.73659 5.20123 8.99998 5.83711 8.99998 6.50015C8.99998 7.16319 8.73659 7.79908 8.26775 8.26792C7.7989 8.73676 7.16302 9.00015 6.49998 9.00015C5.83694 9.00015 5.20105 8.73676 4.73221 8.26792C4.26337 7.79908 3.99998 7.16319 3.99998 6.50015C3.99998 5.83711 4.26337 5.20123 4.73221 4.73239C5.20105 4.26355 5.83694 4.00015 6.49998 4.00015ZM6.49998 5.00015C6.10215 5.00015 5.72062 5.15819 5.43932 5.43949C5.15801 5.7208 4.99998 6.10233 4.99998 6.50015C4.99998 6.89798 5.15801 7.27951 5.43932 7.56081C5.72062 7.84212 6.10215 8.00015 6.49998 8.00015C6.8978 8.00015 7.27933 7.84212 7.56064 7.56081C7.84194 7.27951 7.99998 6.89798 7.99998 6.50015C7.99998 6.10233 7.84194 5.7208 7.56064 5.43949C7.27933 5.15819 6.8978 5.00015 6.49998 5.00015ZM1.79998 9.35715L6.49998 17.0872L11.2 9.35715C11.7069 8.52316 11.9827 7.5693 11.9992 6.59348C12.0157 5.61767 11.7722 4.65504 11.2938 3.80439C10.8154 2.95375 10.1192 2.24573 9.27675 1.753C8.43431 1.26027 7.47593 1.00058 6.49998 1.00058C5.52402 1.00058 4.56564 1.26027 3.7232 1.753C2.88076 2.24573 2.1846 2.95375 1.70617 3.80439C1.22774 4.65504 0.984277 5.61767 1.00076 6.59348C1.01725 7.5693 1.29309 8.52316 1.79998 9.35715ZM12.054 9.87715L6.49998 19.0122L0.945977 9.87715C0.347098 8.8915 0.0212576 7.76425 0.00189306 6.61109C-0.0174714 5.45792 0.270337 4.32037 0.835785 3.31517C1.40123 2.30996 2.22395 1.47331 3.21952 0.891066C4.21509 0.308821 5.34765 0.00195313 6.50098 0.00195312C7.65431 0.00195312 8.78687 0.308821 9.78243 0.891066C10.778 1.47331 11.6007 2.30996 12.1662 3.31517C12.7316 4.32037 13.0194 5.45792 13.0001 6.61109C12.9807 7.76425 12.6549 8.8915 12.056 9.87715H12.054Z"
                                                                fill="black"/>
                                                    </svg>
                                                    {{ work.country.name }}
                                                </span>
                                                <span class="size">{% trans "Размер:" %} {{ work.sizes.height }}x{{ work.sizes.width }} {% trans "Материал:" %} {{ work.material }}</span>
                                            </div>
{#                                            <a href="#" class="favorite" data-add-url="add" data-remove-url="remove"#}
{#                                               data-id="">#}
{#                                                <svg width="28" height="23" viewBox="0 0 28 23" fill="none"#}
{#                                                     xmlns="http://www.w3.org/2000/svg">#}
{#                                                    <path#}
{#                                                            d="M27.3226 4.61503C26.8881 3.71192 26.2617 2.89354 25.4784 2.20568C24.6945 1.51577 23.7702 0.967516 22.7558 0.590719C21.704 0.198452 20.5759 -0.00233307 19.4369 2.04529e-05C17.8391 2.04529e-05 16.2801 0.392849 14.9253 1.13486C14.6012 1.31236 14.2933 1.50732 14.0016 1.71974C13.7099 1.50732 13.402 1.31236 13.0779 1.13486C11.7231 0.392849 10.1641 2.04529e-05 8.56626 2.04529e-05C7.41566 2.04529e-05 6.30072 0.19789 5.24736 0.590719C4.22965 0.968998 3.31242 1.51314 2.52483 2.20568C1.74047 2.89276 1.1139 3.71134 0.680633 4.61503C0.230119 5.55491 0 6.55299 0 7.58016C0 8.54914 0.220396 9.55885 0.657946 10.586C1.02419 11.4444 1.54925 12.3348 2.22016 13.234C3.28325 14.6569 4.74499 16.1409 6.56001 17.6453C9.56776 20.139 12.5463 21.8617 12.6727 21.9315L13.4409 22.3738C13.7812 22.5688 14.2188 22.5688 14.5591 22.3738L15.3272 21.9315C15.4536 21.8588 18.429 20.139 21.44 17.6453C23.255 16.1409 24.7167 14.6569 25.7798 13.234C26.4507 12.3348 26.979 11.4444 27.342 10.586C27.7796 9.55885 28 8.54914 28 7.58016C28.0032 6.55299 27.7731 5.55491 27.3226 4.61503ZM14.0016 20.0721C14.0016 20.0721 2.46324 13.4348 2.46324 7.58016C2.46324 4.61503 5.1955 2.2115 8.56626 2.2115C10.9355 2.2115 12.9904 3.39872 14.0016 5.13298C15.0128 3.39872 17.0677 2.2115 19.4369 2.2115C22.8077 2.2115 25.54 4.61503 25.54 7.58016C25.54 13.4348 14.0016 20.0721 14.0016 20.0721Z"#}
{#                                                            fill="#A8A8A8"/>#}
{#                                                </svg>#}
{#                                            </a>#}
                                        </div>
                                    </div>
                                </div>
                                <a href="{% url 'general:catalog_detail_page' work.slug %}"
                                   class="more">{% trans "KУПИТЬ" %}</a>
                            </div>
                            <!-- <a href="{% url 'general:catalog_detail_page' work.slug %}" class="more">КУПИТЬ</a> -->
                        {% endfor %}
                        {% else %}
                        <p>No works found</p>
                    {% endif %}
                    </div>
                </div>
            </main>
        </div>
        {% include 'footer.html' %}
    </div>
<script>
    const params = window.location.search;
    const lang = $('html').attr('lang')
    const svg = `
    <svg width="252" style="margin-top: 30px;" height="294"><defs><path d="M0 .387h251.772v251.772H0z"></path></defs><g fill="none" fill-rule="evenodd"><g transform="translate(0 .012)"><mask fill="#fff"></mask><path d="M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321" fill="#E4EBF7" mask="url(#b)"></path></g><path d="M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66" fill="#FFF"></path><path d="M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788" stroke="#FFF" stroke-width="2"></path><path d="M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175" fill="#FFF"></path><path d="M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932" fill="#FFF"></path><path d="M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011" stroke="#FFF" stroke-width="2"></path><path d="M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382" fill="#FFF"></path><path d="M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z" stroke="#FFF" stroke-width="2"></path><path stroke="#FFF" stroke-width="2" d="M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"></path><path d="M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742" fill="#FFF"></path><path d="M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48" fill="#1890FF"></path><path d="M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894" fill="#FFF"></path><path d="M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88" fill="#FFB594"></path><path d="M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624" fill="#FFC6A0"></path><path d="M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682" fill="#FFF"></path><path d="M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573" fill="#CBD1D1"></path><path d="M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z" fill="#2B0849"></path><path d="M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558" fill="#A4AABA"></path><path d="M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z" fill="#CBD1D1"></path><path d="M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062" fill="#2B0849"></path><path d="M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15" fill="#A4AABA"></path><path d="M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165" fill="#7BB2F9"></path><path d="M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883" stroke="#648BD8" stroke-width="1.051" stroke-linecap="round" stroke-linejoin="round"></path><path d="M107.275 222.1s2.773-1.11 6.102-3.884" stroke="#648BD8" stroke-linecap="round" stroke-linejoin="round"></path><path d="M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31" stroke="#648BD8" stroke-width="1.051" stroke-linecap="round" stroke-linejoin="round"></path><path d="M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038" fill="#192064"></path><path d="M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81" fill="#FFF"></path><path d="M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642" fill="#192064"></path><path d="M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146" stroke="#648BD8" stroke-width="1.051" stroke-linecap="round" stroke-linejoin="round"></path><path d="M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268" fill="#FFC6A0"></path><path d="M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456" fill="#FFC6A0"></path><path d="M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z" fill="#520038"></path><path d="M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254" fill="#552950"></path><path stroke="#DB836E" stroke-width="1.118" stroke-linecap="round" stroke-linejoin="round" d="M110.13 74.84l-.896 1.61-.298 4.357h-2.228"></path><path d="M110.846 74.481s1.79-.716 2.506.537" stroke="#5C2552" stroke-width="1.118" stroke-linecap="round" stroke-linejoin="round"></path><path d="M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67" stroke="#DB836E" stroke-width="1.118" stroke-linecap="round" stroke-linejoin="round"></path><path d="M103.287 72.93s1.83 1.113 4.137.954" stroke="#5C2552" stroke-width="1.118" stroke-linecap="round" stroke-linejoin="round"></path><path d="M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639" stroke="#DB836E" stroke-width="1.118" stroke-linecap="round" stroke-linejoin="round"></path><path d="M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206" stroke="#E4EBF7" stroke-width="1.101" stroke-linecap="round" stroke-linejoin="round"></path><path d="M129.405 122.865s-5.272 7.403-9.422 10.768" stroke="#E4EBF7" stroke-width="1.051" stroke-linecap="round" stroke-linejoin="round"></path><path d="M119.306 107.329s.452 4.366-2.127 32.062" stroke="#E4EBF7" stroke-width="1.101" stroke-linecap="round" stroke-linejoin="round"></path><path d="M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01" fill="#F2D7AD"></path><path d="M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92" fill="#F4D19D"></path><path d="M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z" fill="#F2D7AD"></path><path fill="#CC9B6E" d="M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"></path><path d="M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83" fill="#F4D19D"></path><path fill="#CC9B6E" d="M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"></path><path fill="#CC9B6E" d="M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"></path><path d="M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238" fill="#FFC6A0"></path><path d="M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044" stroke="#DB836E" stroke-width="1.051" stroke-linecap="round" stroke-linejoin="round"></path><path d="M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617" stroke="#DB836E" stroke-width="1.051" stroke-linecap="round" stroke-linejoin="round"></path><path d="M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754" stroke="#DB836E" stroke-width="1.051" stroke-linecap="round" stroke-linejoin="round"></path><path d="M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647" fill="#5BA02E"></path><path d="M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647" fill="#92C110"></path><path d="M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187" fill="#F2D7AD"></path><path d="M88.979 89.48s7.776 5.384 16.6 2.842" stroke="#E4EBF7" stroke-width="1.101" stroke-linecap="round" stroke-linejoin="round"></path></g></svg>`
    function laodCards(params){
        $.ajax({
            url:`/${lang}/search-api/${params}`,
            method:'get',
            beforeSend:function(){
                $('#cards-main').empty()
            },
            success:function (response) {
                if(response.has_next){
                    $('[data-loadMore]').show()
                }else{
                    $('[data-loadMore]').hide()
                }
                $('.delivery-panel strong').text(response.country_name)
              response.sections.forEach(item => {
                const li = `<li>
                                    <a href="https://${item.url}/">${item.name}</a>
                                </li>`
                $('nav ul > .dropdown:first-child ul').append(li);
              })
              $('nav ul > .dropdown:nth-child(2)').append('<ul></ul>')
              response.craftsmanships.forEach(item => {
                const li = `<li>
                                    <a href="https://${item.url}/">${item.name}</a>
                                </li>`
                $('nav ul > .dropdown:nth-child(2) ul').append(li);
              })
              $('nav ul .dropdown:nth-child(6)').append('<ul></ul>')
              response.abouts.forEach(item => {
                const li = `<li>
                                    <a href="https://${item.url}/">${item.name}</a>
                                </li>`
                $('nav ul > .dropdown:nth-child(6) ul').append(li);
              })
              $('nav ul .dropdown:nth-child(7)').append('<ul></ul>')
              response.services.forEach(item => {
                const li = `<li>
                                    <a href="https://${item.url}">${item.name}</a>
                                </li>`
                $('nav ul > .dropdown:nth-child(7) ul').append(li);
              })
                response.all_countries.forEach(item => {
                    $('[name=country]').append(`<option value="${item.code}">${item.name}</option>`)
                })
                response.all_authors.forEach(item => {
                    $('[name=authors]').append(`<option value="${item.id}">${item.name}</option>`)
                })
                if(response.authors_result.length && !response.works_result.length){
                  const h3 = `<div class="header-title bordered"><h3>Авторы</h3></div>`;
                  $('#cards-main').before(h3);
                  response.authors_result.forEach(item => {
                    const div = `
                  <div class="card">
                        <div class="info">
                            <a href="https://${item.url}" class="img h360">
                                <img src="${item.photo}" alt="">
                            </a>
                            <div class="caption">
                                <strong><a href="https://${item.url}">${item.name}</a>
                                </strong>

                                <div class="card-action">
                                <span>


                                </span>
                                </div>

                            </div>
                        </div>
                        <a href="https://${item.url}" class="more">Read more</a>
                    </div>`
                    $('#cards-main').append(div);
                  })
                }
                else if(response.works_result.length && !response.authors_result.length){
                  const h3 = `<div class="header-title"><h3>Работы</h3></div>`;
                  $('#cards-main').before(h3);
                  response.works_result.forEach(item => {
                    const div = `<div class="card">
              <div class="info">
                  <a href="https://${item.url}" class="img h360">
                      <img src="${item.photo}" alt=""/>
                  </a>
                  <div class="caption">
                      <div class="header">
                          <strong><a href="${item.url}">${item.name}</a></strong>
                          <span>${item.period}</span>
                      </div>
                      <div class="card-action" style="margin-bottom: 1.3125rem;">
                          <div>
                              <span class="small-text">
                                  <svg width="13" height="20" viewBox="0 0 13 20" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                      <path
                                              d="M6.49998 4.00015C7.16302 4.00015 7.7989 4.26355 8.26775 4.73239C8.73659 5.20123 8.99998 5.83711 8.99998 6.50015C8.99998 7.16319 8.73659 7.79908 8.26775 8.26792C7.7989 8.73676 7.16302 9.00015 6.49998 9.00015C5.83694 9.00015 5.20105 8.73676 4.73221 8.26792C4.26337 7.79908 3.99998 7.16319 3.99998 6.50015C3.99998 5.83711 4.26337 5.20123 4.73221 4.73239C5.20105 4.26355 5.83694 4.00015 6.49998 4.00015ZM6.49998 5.00015C6.10215 5.00015 5.72062 5.15819 5.43932 5.43949C5.15801 5.7208 4.99998 6.10233 4.99998 6.50015C4.99998 6.89798 5.15801 7.27951 5.43932 7.56081C5.72062 7.84212 6.10215 8.00015 6.49998 8.00015C6.8978 8.00015 7.27933 7.84212 7.56064 7.56081C7.84194 7.27951 7.99998 6.89798 7.99998 6.50015C7.99998 6.10233 7.84194 5.7208 7.56064 5.43949C7.27933 5.15819 6.8978 5.00015 6.49998 5.00015ZM1.79998 9.35715L6.49998 17.0872L11.2 9.35715C11.7069 8.52316 11.9827 7.5693 11.9992 6.59348C12.0157 5.61767 11.7722 4.65504 11.2938 3.80439C10.8154 2.95375 10.1192 2.24573 9.27675 1.753C8.43431 1.26027 7.47593 1.00058 6.49998 1.00058C5.52402 1.00058 4.56564 1.26027 3.7232 1.753C2.88076 2.24573 2.1846 2.95375 1.70617 3.80439C1.22774 4.65504 0.984277 5.61767 1.00076 6.59348C1.01725 7.5693 1.29309 8.52316 1.79998 9.35715ZM12.054 9.87715L6.49998 19.0122L0.945977 9.87715C0.347098 8.8915 0.0212576 7.76425 0.00189306 6.61109C-0.0174714 5.45792 0.270337 4.32037 0.835785 3.31517C1.40123 2.30996 2.22395 1.47331 3.21952 0.891066C4.21509 0.308821 5.34765 0.00195313 6.50098 0.00195312C7.65431 0.00195312 8.78687 0.308821 9.78243 0.891066C10.778 1.47331 11.6007 2.30996 12.1662 3.31517C12.7316 4.32037 13.0194 5.45792 13.0001 6.61109C12.9807 7.76425 12.6549 8.8915 12.056 9.87715H12.054Z"
                                              fill="black"/>
                                  </svg>
                                  ${item.country}
                              </span>
                              <span class="size">{% trans "Размер:" %} ${item.size} {% trans "Материал:" %} ${item.material}</span>
                          </div>
                          <a href="#" class="favorite" data-add-url="add" data-remove-url="remove"
                             data-id="">
                              <svg width="28" height="23" viewBox="0 0 28 23" fill="none"
                                   xmlns="http://www.w3.org/2000/svg">
                                  <path
                                          d="M27.3226 4.61503C26.8881 3.71192 26.2617 2.89354 25.4784 2.20568C24.6945 1.51577 23.7702 0.967516 22.7558 0.590719C21.704 0.198452 20.5759 -0.00233307 19.4369 2.04529e-05C17.8391 2.04529e-05 16.2801 0.392849 14.9253 1.13486C14.6012 1.31236 14.2933 1.50732 14.0016 1.71974C13.7099 1.50732 13.402 1.31236 13.0779 1.13486C11.7231 0.392849 10.1641 2.04529e-05 8.56626 2.04529e-05C7.41566 2.04529e-05 6.30072 0.19789 5.24736 0.590719C4.22965 0.968998 3.31242 1.51314 2.52483 2.20568C1.74047 2.89276 1.1139 3.71134 0.680633 4.61503C0.230119 5.55491 0 6.55299 0 7.58016C0 8.54914 0.220396 9.55885 0.657946 10.586C1.02419 11.4444 1.54925 12.3348 2.22016 13.234C3.28325 14.6569 4.74499 16.1409 6.56001 17.6453C9.56776 20.139 12.5463 21.8617 12.6727 21.9315L13.4409 22.3738C13.7812 22.5688 14.2188 22.5688 14.5591 22.3738L15.3272 21.9315C15.4536 21.8588 18.429 20.139 21.44 17.6453C23.255 16.1409 24.7167 14.6569 25.7798 13.234C26.4507 12.3348 26.979 11.4444 27.342 10.586C27.7796 9.55885 28 8.54914 28 7.58016C28.0032 6.55299 27.7731 5.55491 27.3226 4.61503ZM14.0016 20.0721C14.0016 20.0721 2.46324 13.4348 2.46324 7.58016C2.46324 4.61503 5.1955 2.2115 8.56626 2.2115C10.9355 2.2115 12.9904 3.39872 14.0016 5.13298C15.0128 3.39872 17.0677 2.2115 19.4369 2.2115C22.8077 2.2115 25.54 4.61503 25.54 7.58016C25.54 13.4348 14.0016 20.0721 14.0016 20.0721Z"
                                          fill="#A8A8A8"/>
                              </svg>
                          </a>
                      </div>
                  </div>
              </div>
              <a href="${item.url}" class="more">{% trans "KУПИТЬ" %}</a>
          </div>`
                    $('#cards-main').append(div);
                  });
                }
                else if(response.authors_result.length && response.works_result.length){
                  const h3 = `<div class="header-title"><h3>Работы</h3></div>`;
                  $('#cards-main').before(h3);
                  response.works_result.forEach(item => {
                    const div = `<div class="card">
              <div class="info">
                  <a href="https://${item.url}" class="img h360">
                      <img src="${item.photo}" alt=""/>
                  </a>
                  <div class="caption">
                      <div class="header">
                          <strong><a href="${item.url}">${item.name}</a></strong>
                          <span>${item.period}</span>
                      </div>
                      <div class="card-action" style="margin-bottom: 1.3125rem;">
                          <div>
                              <span class="small-text">
                                  <svg width="13" height="20" viewBox="0 0 13 20" fill="none"
                                       xmlns="http://www.w3.org/2000/svg">
                                      <path
                                              d="M6.49998 4.00015C7.16302 4.00015 7.7989 4.26355 8.26775 4.73239C8.73659 5.20123 8.99998 5.83711 8.99998 6.50015C8.99998 7.16319 8.73659 7.79908 8.26775 8.26792C7.7989 8.73676 7.16302 9.00015 6.49998 9.00015C5.83694 9.00015 5.20105 8.73676 4.73221 8.26792C4.26337 7.79908 3.99998 7.16319 3.99998 6.50015C3.99998 5.83711 4.26337 5.20123 4.73221 4.73239C5.20105 4.26355 5.83694 4.00015 6.49998 4.00015ZM6.49998 5.00015C6.10215 5.00015 5.72062 5.15819 5.43932 5.43949C5.15801 5.7208 4.99998 6.10233 4.99998 6.50015C4.99998 6.89798 5.15801 7.27951 5.43932 7.56081C5.72062 7.84212 6.10215 8.00015 6.49998 8.00015C6.8978 8.00015 7.27933 7.84212 7.56064 7.56081C7.84194 7.27951 7.99998 6.89798 7.99998 6.50015C7.99998 6.10233 7.84194 5.7208 7.56064 5.43949C7.27933 5.15819 6.8978 5.00015 6.49998 5.00015ZM1.79998 9.35715L6.49998 17.0872L11.2 9.35715C11.7069 8.52316 11.9827 7.5693 11.9992 6.59348C12.0157 5.61767 11.7722 4.65504 11.2938 3.80439C10.8154 2.95375 10.1192 2.24573 9.27675 1.753C8.43431 1.26027 7.47593 1.00058 6.49998 1.00058C5.52402 1.00058 4.56564 1.26027 3.7232 1.753C2.88076 2.24573 2.1846 2.95375 1.70617 3.80439C1.22774 4.65504 0.984277 5.61767 1.00076 6.59348C1.01725 7.5693 1.29309 8.52316 1.79998 9.35715ZM12.054 9.87715L6.49998 19.0122L0.945977 9.87715C0.347098 8.8915 0.0212576 7.76425 0.00189306 6.61109C-0.0174714 5.45792 0.270337 4.32037 0.835785 3.31517C1.40123 2.30996 2.22395 1.47331 3.21952 0.891066C4.21509 0.308821 5.34765 0.00195313 6.50098 0.00195312C7.65431 0.00195312 8.78687 0.308821 9.78243 0.891066C10.778 1.47331 11.6007 2.30996 12.1662 3.31517C12.7316 4.32037 13.0194 5.45792 13.0001 6.61109C12.9807 7.76425 12.6549 8.8915 12.056 9.87715H12.054Z"
                                              fill="black"/>
                                  </svg>
                                  ${item.country}
                              </span>
                              <span class="size">{% trans "Размер:" %} ${item.size} {% trans "Материал:" %} ${item.material}</span>
                          </div>
                          <a href="#" class="favorite" data-add-url="add" data-remove-url="remove"
                             data-id="">
                              <svg width="28" height="23" viewBox="0 0 28 23" fill="none"
                                   xmlns="http://www.w3.org/2000/svg">
                                  <path
                                          d="M27.3226 4.61503C26.8881 3.71192 26.2617 2.89354 25.4784 2.20568C24.6945 1.51577 23.7702 0.967516 22.7558 0.590719C21.704 0.198452 20.5759 -0.00233307 19.4369 2.04529e-05C17.8391 2.04529e-05 16.2801 0.392849 14.9253 1.13486C14.6012 1.31236 14.2933 1.50732 14.0016 1.71974C13.7099 1.50732 13.402 1.31236 13.0779 1.13486C11.7231 0.392849 10.1641 2.04529e-05 8.56626 2.04529e-05C7.41566 2.04529e-05 6.30072 0.19789 5.24736 0.590719C4.22965 0.968998 3.31242 1.51314 2.52483 2.20568C1.74047 2.89276 1.1139 3.71134 0.680633 4.61503C0.230119 5.55491 0 6.55299 0 7.58016C0 8.54914 0.220396 9.55885 0.657946 10.586C1.02419 11.4444 1.54925 12.3348 2.22016 13.234C3.28325 14.6569 4.74499 16.1409 6.56001 17.6453C9.56776 20.139 12.5463 21.8617 12.6727 21.9315L13.4409 22.3738C13.7812 22.5688 14.2188 22.5688 14.5591 22.3738L15.3272 21.9315C15.4536 21.8588 18.429 20.139 21.44 17.6453C23.255 16.1409 24.7167 14.6569 25.7798 13.234C26.4507 12.3348 26.979 11.4444 27.342 10.586C27.7796 9.55885 28 8.54914 28 7.58016C28.0032 6.55299 27.7731 5.55491 27.3226 4.61503ZM14.0016 20.0721C14.0016 20.0721 2.46324 13.4348 2.46324 7.58016C2.46324 4.61503 5.1955 2.2115 8.56626 2.2115C10.9355 2.2115 12.9904 3.39872 14.0016 5.13298C15.0128 3.39872 17.0677 2.2115 19.4369 2.2115C22.8077 2.2115 25.54 4.61503 25.54 7.58016C25.54 13.4348 14.0016 20.0721 14.0016 20.0721Z"
                                          fill="#A8A8A8"/>
                              </svg>
                          </a>
                      </div>
                  </div>
              </div>
              <a href="${item.url}" class="more">{% trans "KУПИТЬ" %}</a>
          </div>`
                    $('#cards-main').append(div);
                  });
                  const h3_author = `<div class="header-title bordered"><h3>Авторы</h3></div>`;
                  $('#cards-main').before(h3_author);
                  response.authors_result.forEach(item => {
                    const div = `
                  <div class="card">
                        <div class="info">
                            <a href="https://${item.url}" class="img h360">
                                <img src="${item.photo}" alt="">
                            </a>
                            <div class="caption">
                                <strong><a href="https://${item.url}">${item.name}</a>
                                </strong>

                                <div class="card-action">
                                <span>


                                </span>
                                </div>

                            </div>
                        </div>
                        <a href="https://${item.url}" class="more">Read more</a>
                    </div>`
                    $('#cards-main').append(div);
                  })
                }
                else {
                  $('#cards-main').css({
                    display:'flex',
                    justifyContent:'center',
                    alignCenter:'center'
                  }).append(svg).after('<span class="empty-text">{% trans "По вашему запросу ничего не найдено" %}</span>')
                }


            }
        })
    }
    $(document).ready(function () {
        laodCards(params)
        $('.search-form').on('submit', function (e) {
            e.preventDefault()
            window.location.replace(`/artists.html?${$(this).serialize()}`)
        })
        $('.filters-form').on('submit', function (e) {
            e.preventDefault();
            let filterParams = $(this).serialize();
            laodCards(`${params}&${filterParams}`)
        })
    })

</script>
{% endblock main %}