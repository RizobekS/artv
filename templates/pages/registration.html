{% extends "base.html" %}
{% load static %}
{% load i18n %}
{% block title %}
{% trans "Registration" %}
{% endblock title %}



{% block main %}
    <div class="wrapper">
    <div class="auth-wrapper">
        <div class="logo">
            <a href="{% url 'home_page' %}">ART VERNISSAGE</a>
        </div>
        <h1>{% trans "Создать учетную запись" %}</h1>
{#        {% if form.errors %}#}
{#            {% for field in form %}#}
{#                {% for error in field.errors %}#}
{#                <div class="alert alert-danger show alert-registration">#}
{#                    <strong>{{ error|escape }}</strong>#}
{#                </div>#}
{#                {% endfor %}#}
{#            {% endfor %}#}
            {% for error in form.non_field_errors %}
            <div class="alert alert-danger show alert-registration">
                <strong>{{ error|escape }}</strong>
            </div>
            {% endfor %}
{#        {% endif %}#}

        <form name="profileForm" novalidate class="registration-form" method="post">
            {% csrf_token %}
            <label>
                <input type="tel" value="" name="phone" placeholder="{% trans "Номер телефона" %}" />
            </label>
            <label>
                <input type="email" id="id_email" value="" name="email" placeholder="{% trans "Адрес электронной почты" %}" required />
                    <div class="helper-text">{% trans "обязательно для заполнения" %}</div>
                <div class="helper-text2" style="display: none">{% trans "Введите корректный Email" %}</div>
            </label>
            <label>
                <input type="password" value="" name="password1" placeholder="{% trans "Пароль" %}"  id="id_password1" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                           title="{% trans "Должен содержать не менее одной цифры и одной прописной и строчной буквы, а также не менее 8 символов." %}" required />
                <a href="#" class="toggle-password">
                    <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M5.13697 3.86257C5.05329 3.77889 4.95395 3.71251 4.84462 3.66723C4.73529 3.62194 4.61811 3.59863 4.49977 3.59863C4.38143 3.59863 4.26425 3.62194 4.15492 3.66723C4.04559 3.71251 3.94625 3.77889 3.86257 3.86257C3.77889 3.94625 3.71251 4.04559 3.66723 4.15492C3.62194 4.26425 3.59863 4.38143 3.59863 4.49977C3.59863 4.61811 3.62194 4.73529 3.66723 4.84462C3.71251 4.95395 3.77889 5.05329 3.86257 5.13697L10.1626 11.4334C7.0424 13.5616 4.87022 16.8179 4.10377 20.5162C4.07966 20.632 4.0786 20.7514 4.10065 20.8677C4.1227 20.9839 4.16742 21.0947 4.23228 21.1936C4.29713 21.2926 4.38084 21.3778 4.47862 21.4444C4.5764 21.511 4.68634 21.5577 4.80217 21.5818C4.918 21.6059 5.03744 21.6069 5.15367 21.5849C5.26991 21.5628 5.38066 21.5181 5.47961 21.4533C5.57856 21.3884 5.66377 21.3047 5.73037 21.2069C5.79697 21.1091 5.84366 20.9992 5.86777 20.8834C6.21115 19.2212 6.88264 17.6442 7.84293 16.2447C8.80323 14.8452 10.033 13.6514 11.4604 12.733L14.3152 15.5878C13.575 16.1215 12.9595 16.8097 12.5115 17.6047C12.0634 18.3998 11.7935 19.2826 11.7202 20.1923C11.647 21.1019 11.7723 22.0166 12.0874 22.8731C12.4025 23.7295 12.8998 24.5073 13.5451 25.1526C14.1904 25.7979 14.9682 26.2953 15.8247 26.6104C16.6811 26.9255 17.5958 27.0507 18.5055 26.9775C19.4151 26.9043 20.298 26.6343 21.093 26.1862C21.888 25.7382 22.5762 25.1228 23.11 24.3826L30.8626 32.137C31.0316 32.306 31.2608 32.4009 31.4998 32.4009C31.7388 32.4009 31.968 32.306 32.137 32.137C32.306 31.968 32.4009 31.7388 32.4009 31.4998C32.4009 31.2608 32.306 31.0316 32.137 30.8626L5.13697 3.86257ZM21.814 23.0866C21.4547 23.6598 20.9709 24.1446 20.3984 24.505C19.8259 24.8653 19.1795 25.092 18.5074 25.1681C17.8352 25.2443 17.1545 25.1679 16.516 24.9446C15.8774 24.7214 15.2974 24.357 14.819 23.8787C14.3407 23.4004 13.9764 22.8204 13.7531 22.1818C13.5299 21.5432 13.4535 20.8625 13.5296 20.1904C13.6057 19.5182 13.8324 18.8718 14.1928 18.2994C14.5532 17.7269 15.038 17.243 15.6112 16.8838L21.814 23.0884V23.0866Z"
                            fill="#929292" />
                        <path
                            d="M18.2217 14.4036L24.2967 20.4768C24.2403 18.8841 23.5824 17.3719 22.4554 16.2449C21.3284 15.118 19.8162 14.46 18.2235 14.4036H18.2217Z"
                            fill="#929292" />
                        <path
                            d="M17.9994 10.8C16.9734 10.8 15.9672 10.9332 15.0006 11.1834L13.5552 9.738C14.986 9.24963 16.4875 9.00029 17.9994 9C24.6468 9 30.495 13.8114 31.8954 20.5164C31.9441 20.7503 31.8978 20.994 31.7669 21.1938C31.6359 21.3937 31.4309 21.5333 31.197 21.582C30.9631 21.6307 30.7194 21.5845 30.5195 21.4535C30.3197 21.3225 30.1801 21.1175 30.1314 20.8836C28.9038 14.9886 23.772 10.8 17.9994 10.8Z"
                            fill="#929292" />
                    </svg>
                    <svg width="30" height="18" viewBox="0 0 30 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M14.9998 5.5075C16.5911 5.5075 18.1172 6.13964 19.2424 7.26486C20.3676 8.39008 20.9998 9.9162 20.9998 11.5075C20.9998 13.0988 20.3676 14.6249 19.2424 15.7501C18.1172 16.8754 16.5911 17.5075 14.9998 17.5075C13.4085 17.5075 11.8823 16.8754 10.7571 15.7501C9.6319 14.6249 8.99976 13.0988 8.99976 11.5075C8.99976 9.9162 9.6319 8.39008 10.7571 7.26486C11.8823 6.13964 13.4085 5.5075 14.9998 5.5075ZM14.9998 0.25C21.9193 0.25 27.8938 4.975 29.5513 11.596C29.6239 11.8854 29.5785 12.1918 29.4252 12.4478C29.2719 12.7038 29.0232 12.8884 28.7338 12.961C28.4443 13.0336 28.1379 12.9883 27.8819 12.835C27.626 12.6816 27.4414 12.4329 27.3688 12.1435C26.6754 9.38771 25.0816 6.9424 22.8402 5.19556C20.5989 3.44873 17.8383 2.50042 14.9967 2.50111C12.155 2.5018 9.39493 3.45144 7.15442 5.19937C4.91392 6.94729 3.32129 9.39338 2.62926 12.1495C2.55155 12.4329 2.36603 12.6746 2.11239 12.823C1.85874 12.9714 1.55711 13.0147 1.27199 12.9435C0.986873 12.8724 0.740904 12.6925 0.586687 12.4424C0.43247 12.1922 0.382248 11.8917 0.44676 11.605C1.26017 8.36119 3.13395 5.48209 5.77057 3.42486C8.40719 1.36763 11.6555 0.250202 14.9998 0.25Z"
                            fill="#929292" />
                    </svg>
                </a>
                <div class="helper-text">{% trans "обязательно для заполнения" %}</div>
                <div class="helper-text2">Пароль должен состоять минимум из 8 символов (латинских букв, цифр и минимум одной заглавной буквы)</div>
            </label>
            <label>
                <input type="password" value="" name="password2"  id="id_password2" placeholder="{% trans "Подтвердить пароль" %}" required />
                <a href="#" class="toggle-password">
                    <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M5.13697 3.86257C5.05329 3.77889 4.95395 3.71251 4.84462 3.66723C4.73529 3.62194 4.61811 3.59863 4.49977 3.59863C4.38143 3.59863 4.26425 3.62194 4.15492 3.66723C4.04559 3.71251 3.94625 3.77889 3.86257 3.86257C3.77889 3.94625 3.71251 4.04559 3.66723 4.15492C3.62194 4.26425 3.59863 4.38143 3.59863 4.49977C3.59863 4.61811 3.62194 4.73529 3.66723 4.84462C3.71251 4.95395 3.77889 5.05329 3.86257 5.13697L10.1626 11.4334C7.0424 13.5616 4.87022 16.8179 4.10377 20.5162C4.07966 20.632 4.0786 20.7514 4.10065 20.8677C4.1227 20.9839 4.16742 21.0947 4.23228 21.1936C4.29713 21.2926 4.38084 21.3778 4.47862 21.4444C4.5764 21.511 4.68634 21.5577 4.80217 21.5818C4.918 21.6059 5.03744 21.6069 5.15367 21.5849C5.26991 21.5628 5.38066 21.5181 5.47961 21.4533C5.57856 21.3884 5.66377 21.3047 5.73037 21.2069C5.79697 21.1091 5.84366 20.9992 5.86777 20.8834C6.21115 19.2212 6.88264 17.6442 7.84293 16.2447C8.80323 14.8452 10.033 13.6514 11.4604 12.733L14.3152 15.5878C13.575 16.1215 12.9595 16.8097 12.5115 17.6047C12.0634 18.3998 11.7935 19.2826 11.7202 20.1923C11.647 21.1019 11.7723 22.0166 12.0874 22.8731C12.4025 23.7295 12.8998 24.5073 13.5451 25.1526C14.1904 25.7979 14.9682 26.2953 15.8247 26.6104C16.6811 26.9255 17.5958 27.0507 18.5055 26.9775C19.4151 26.9043 20.298 26.6343 21.093 26.1862C21.888 25.7382 22.5762 25.1228 23.11 24.3826L30.8626 32.137C31.0316 32.306 31.2608 32.4009 31.4998 32.4009C31.7388 32.4009 31.968 32.306 32.137 32.137C32.306 31.968 32.4009 31.7388 32.4009 31.4998C32.4009 31.2608 32.306 31.0316 32.137 30.8626L5.13697 3.86257ZM21.814 23.0866C21.4547 23.6598 20.9709 24.1446 20.3984 24.505C19.8259 24.8653 19.1795 25.092 18.5074 25.1681C17.8352 25.2443 17.1545 25.1679 16.516 24.9446C15.8774 24.7214 15.2974 24.357 14.819 23.8787C14.3407 23.4004 13.9764 22.8204 13.7531 22.1818C13.5299 21.5432 13.4535 20.8625 13.5296 20.1904C13.6057 19.5182 13.8324 18.8718 14.1928 18.2994C14.5532 17.7269 15.038 17.243 15.6112 16.8838L21.814 23.0884V23.0866Z"
                            fill="#929292" />
                        <path
                            d="M18.2217 14.4036L24.2967 20.4768C24.2403 18.8841 23.5824 17.3719 22.4554 16.2449C21.3284 15.118 19.8162 14.46 18.2235 14.4036H18.2217Z"
                            fill="#929292" />
                        <path
                            d="M17.9994 10.8C16.9734 10.8 15.9672 10.9332 15.0006 11.1834L13.5552 9.738C14.986 9.24963 16.4875 9.00029 17.9994 9C24.6468 9 30.495 13.8114 31.8954 20.5164C31.9441 20.7503 31.8978 20.994 31.7669 21.1938C31.6359 21.3937 31.4309 21.5333 31.197 21.582C30.9631 21.6307 30.7194 21.5845 30.5195 21.4535C30.3197 21.3225 30.1801 21.1175 30.1314 20.8836C28.9038 14.9886 23.772 10.8 17.9994 10.8Z"
                            fill="#929292" />
                    </svg>
                    <svg width="30" height="18" viewBox="0 0 30 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M14.9998 5.5075C16.5911 5.5075 18.1172 6.13964 19.2424 7.26486C20.3676 8.39008 20.9998 9.9162 20.9998 11.5075C20.9998 13.0988 20.3676 14.6249 19.2424 15.7501C18.1172 16.8754 16.5911 17.5075 14.9998 17.5075C13.4085 17.5075 11.8823 16.8754 10.7571 15.7501C9.6319 14.6249 8.99976 13.0988 8.99976 11.5075C8.99976 9.9162 9.6319 8.39008 10.7571 7.26486C11.8823 6.13964 13.4085 5.5075 14.9998 5.5075ZM14.9998 0.25C21.9193 0.25 27.8938 4.975 29.5513 11.596C29.6239 11.8854 29.5785 12.1918 29.4252 12.4478C29.2719 12.7038 29.0232 12.8884 28.7338 12.961C28.4443 13.0336 28.1379 12.9883 27.8819 12.835C27.626 12.6816 27.4414 12.4329 27.3688 12.1435C26.6754 9.38771 25.0816 6.9424 22.8402 5.19556C20.5989 3.44873 17.8383 2.50042 14.9967 2.50111C12.155 2.5018 9.39493 3.45144 7.15442 5.19937C4.91392 6.94729 3.32129 9.39338 2.62926 12.1495C2.55155 12.4329 2.36603 12.6746 2.11239 12.823C1.85874 12.9714 1.55711 13.0147 1.27199 12.9435C0.986873 12.8724 0.740904 12.6925 0.586687 12.4424C0.43247 12.1922 0.382248 11.8917 0.44676 11.605C1.26017 8.36119 3.13395 5.48209 5.77057 3.42486C8.40719 1.36763 11.6555 0.250202 14.9998 0.25Z"
                            fill="#929292" />
                    </svg>
                </a>
                    <div class="helper-text">{% trans "обязательно для заполнения" %}</div>
                <div class="helper-text2">{% trans "пароль не совпадает" %}</div>
            </label>
            <div class="flex">
                <label>
                    <input type="text" value="" name="first_name" placeholder="{% trans "Имя" %}" required />
                    <div class="helper-text">{% trans "обязательно для заполнения" %}</div>
                </label>
                <label>
                    <input type="text" value="" name="last_name" placeholder="{% trans "Фамилия" %}" required />
                    <div class="helper-text">{% trans "обязательно для заполнения" %}</div>
                </label>
                <label>
                    <input type="tel" value="" name="birth_date" placeholder="{% trans "ДД/ММ/ГГГГ" %}" id="id_birth_date" required>
                    <div class="helper-text">{% trans "обязательно для заполнения" %}</div>
                </label>
            </div>

            <button type="submit">{% trans "Зарегистрироваться" %}</button>
            <a href="{% url "accounts:login" %}" class="has-account">{% trans "Уже есть аккаунт?"%}</a>
<!--            <input type="hidden" value="" name="birth_date"/>-->
        </form>
    </div>


</div>


{% endblock main %}

{% block js_partials %}
<script>
    document.addEventListener('DOMContentLoaded', ()=>{
        $.mask.definitions['9'] = false;
        $.mask.definitions['5'] = "[0-9]";
        $('#id_birth_date').click(function () {
            $(this).focus().val($(this).val())
        }).mask("55.55.5555", {
            placeholder: "_",
            // completed : function (e) {
            //   const date = $('#id_birth_date').val().split('.').reverse().join('-');
            //   $('[name=birth_date]').val(date)
            // }
        });
    })
</script>
{% endblock js_partials %}